{% extends 'base.html' %}

{% block content %}
<div class="apply-wrap">
  <h1 class="apply-title">Apply to teach</h1>
  <p class="apply-sub">Share your intro video, thumbnail, expertise and links. Weâ€™ll review and let you know.</p>
  <div id="react-apply"></div>
</div>
<style>
.apply-wrap{max-width:820px;margin:0 auto;padding:1rem}
.apply-title{margin:0 0 .25rem 0}
.apply-sub{color:#6b7280;margin:0 0 1rem 0}
.rxA-form{display:flex;flex-direction:column;gap:1rem}
.rxA-row{display:grid;grid-template-columns:1fr 1fr;gap:1rem}
.rxA-field{display:flex;flex-direction:column;gap:.4rem}
.rxA-field label{font-weight:600}
.rxA-field input[type="text"],.rxA-field textarea{padding:.8rem .9rem;border:1px solid #d1d5db;border-radius:10px;background:#fff}
.rxA-field input[type="file"]{border:1px dashed #cbd5e1;border-radius:10px;padding:.75rem;background:#f8fafc}
.rxA-actions{display:flex;gap:.75rem}
.rxA-btn{border:none;border-radius:10px;padding:.75rem 1.1rem;font-weight:700;cursor:pointer}
.rxA-primary{background:#3b82f6;color:#fff}
.rxA-primary:hover{background:#2563eb}
.rxA-ghost{background:transparent;border:1px solid #d1d5db}
@media(max-width: 720px){.rxA-row{grid-template-columns:1fr}}
</style>
<script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
<script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
<script>
function getCookie(name){const v=`; ${document.cookie}`.split(`; ${name}=`);if(v.length===2)return v.pop().split(';').shift();return ''}
const e = React.createElement;

function ApplyForm(){
  return e('form',{className:'rxA-form',method:'post',encType:'multipart/form-data'},[
    e('input',{type:'hidden',name:'csrfmiddlewaretoken',value:getCookie('csrftoken'),key:'csrf'}),
    e('div',{className:'rxA-field'},[e('label',null,'Title'), e('input',{type:'text',name:'title',required:true,placeholder:'e.g., Intro to Digital Illustration'})]),
    e('div',{className:'rxA-field'},[e('label',null,'Bio / About'), e('textarea',{name:'bio',rows:4,placeholder:'Tell learners about your background and what you teach'})]),
    e('div',{className:'rxA-row'},[
      e('div',{className:'rxA-field'},[e('label',null,'Difficulty'), e('select',{name:'difficulty'},[
        e('option',{value:'beginner'},'Beginner'),
        e('option',{value:'intermediate'},'Intermediate'),
        e('option',{value:'advanced'},'Advanced')
      ])]),
      e('div',{className:'rxA-field'},[e('label',null,'Tradeable'), e('select',{name:'is_tradeable'},[
        e('option',{value:'false'},'No'),
        e('option',{value:'true'},'Yes')
      ])])
    ]),
    e('div',{className:'rxA-row'},[
      e('div',{className:'rxA-field'},[e('label',null,'Duration (minutes)'), e('input',{type:'number',name:'duration_minutes',min:0,placeholder:'e.g., 60'})]),
      e('div',{className:'rxA-field'},[e('label',null,'Price ($)'), e('input',{type:'number',step:'0.01',name:'price_dollars',min:0,placeholder:'e.g., 19.99'})])
    ]),
    e('div',{className:'rxA-row'},[
      e('div',{className:'rxA-field'},[e('label',null,'Intro video (MP4)'), e('input',{type:'file',name:'intro_video',accept:'video/*'})]),
      e('div',{className:'rxA-field'},[e('label',null,'Thumbnail (image)'), e('input',{type:'file',name:'thumbnail',accept:'image/*'})])
    ]),
    e('div',{className:'rxA-row'},[
      e('div',{className:'rxA-field'},[e('label',null,'Portfolio links'), e('textarea',{name:'portfolio_links',rows:3,placeholder:'One per line'})]),
      e('div',{className:'rxA-field'},[e('label',null,'Expertise topics'), e('textarea',{name:'expertise_topics',rows:3,placeholder:'e.g., Photoshop, Procreate'})])
    ]),
    e('div',{className:'rxA-actions'},[
      e('button',{className:'rxA-btn rxA-primary',type:'submit'},'Submit application'),
      e('a',{href:'/classes/',className:'rxA-btn rxA-ghost'},'Cancel')
    ])
  ])
}

document.addEventListener('DOMContentLoaded', ()=>{
  const mount = document.getElementById('react-apply');
  if(mount){ ReactDOM.createRoot(mount).render(e(ApplyForm)); }
});
</script>
{% endblock %}


